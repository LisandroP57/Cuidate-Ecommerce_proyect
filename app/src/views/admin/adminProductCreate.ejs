<!DOCTYPE html>
<html lang="es">
<!-- Head -->
<%- include('../partials/head', {title: 'Agregar producto'}) %>
<title>Cuidate! Agregar Producto</title>
<body class="create-edit-body">
	<!-- Header -->
	<%- include('../partials/header') %>
	<main class="addProduct">
		<div class="createForm">
			<div class="row">
				<div class="col-12">
					<h2 class="products-title">Agregar Producto</h2>
				</div>
			</div>
			<div class="col-12">
				<form action="/admin/products/create" method="POST" enctype="multipart/form-data">
					<div class="Addform">
						<div class="addInput">
							<label for="inputName" class="form-label">Nombre:</label>
							<input type="text" id="name" name="name" placeholder="Ej: Gas pimienta" class="form-input" value="<%= locals.old && old.name %>">
							<% if(locals.errors && errors.name) {%>
								<small class="text-danger"><%= errors.name.msg %></small>
							<% } %>
						</div>
						<div class="addInput">
							<label for="inputPrice" class="form-label">Precio:</label>
							<input type="number" id="inputPrice" name="price" placeholder="Ej: $123" class="form-input" value="<%= locals.old && old.price %>">
							<% if(locals.errors && errors.price) {%>
								<small class="text-danger"><%= errors.price.msg %></small>
							<% } %>
						</div>
						<div class="addInput">
							<label for="inputDiscount" class="form-label">Descuento:</label>
							<input type="number" id="inputDiscount" name="discount" placeholder="Ej: 57%" class="form-input" value="<%= locals.old && old.discount %>">
							<% if(locals.errors && errors.discount) {%>
								<small class="text-danger"><%= errors.discount.msg %></small>
							<% } %>
						</div>
						<div class="addInput">
							<select class="form-select" id="specificSizeSelect" name="category">
								<option selected hidden value="">Categorias</option>
								<% categories.forEach(category => { %>
									<option value="<%- category.id %>" <%= locals.old && old.category == category.id ? "selected" : null %> ><%- category.name %></option>
								<% }) %>
								</select>
								<% if(locals.errors && errors.category) {%>
									<small class="text-danger"><%= errors.category.msg %></small>
								<% } %>
						</div>
						<div class="addInput">
							<select class="form-select" id="specificSizeSelect" name="subcategory">
								<option selected hidden value="">Subcategorias</option>
								<% subcategories.forEach(subcategory => { %>
								<option value="<%- subcategory.id %>" <%= 
									locals.old && 
									old.subcategory == 
									subcategory.id ? 
									"selected" : null %>>
									<%- subcategory.name %>
								</option>
								<% }) %>
							</select>
							<% if(locals.errors && errors.subcategory) {%>
								<small class="text-danger"><%= errors.subcategory.msg %></small>
							<% } %>
						</div>
						<div class="description1">
							<label for="validationTextArea" class="form-label">Descripción:</label>
							<textarea name="description" id="validationTextArea" class="form-input" placeholder="Descripción"></textarea>
						</div>
						<div class="multer">
							<label for="inputImage" class="form-label">Imagen de producto:</label>
							<input type="file" id="inputImage" name="images" placeholder="Ej: 15" class="form-control">
						</div>
						<div class="sendButton">
							<button type="submit" class="buy-now-button">Agregar producto</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</main>
	<!-- footer -->
	<%- include('../partials/footer') %>
</body>	
</html>